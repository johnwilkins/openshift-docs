// Module included in the following assemblies:
// //installing/installing_bare_metal_ipi/installing_bare_metal_ipi/ipi-install-troubleshooting.adoc

:_mod-docs-content-type: PROCEDURE
[id="ipi-install-troubleshooothing-latency-when-deleting-a-baremetalhost-resource_{context}"]

= Troubleshooting latency when deleting a BareMetalHost resource

When the Bare Metal Operator (BMO) deletes a `BareMetalHost` resource, Ironic deprovisions the bare-metal host. For example, this might happen when scaling down a machine set. Deprovisioning involves a process known as "cleaning," which performs multiple steps:

* Powering off the bare-metal host
* Booting a service ramdisk on the bare-metal host
* Removing partioning metadata from all disks
* Powering off the bare-metal host again

If cleaning doesn't succeed, the deletion of the `BareMetalHost` resource will take a long time and might not finish.

[IMPORTANT]
====
Do not remove finalizers from `BareMetalHost` resources that take a long time to get deleted.
====

.Procedure

. If the cleaning process can recover, wait for it to finish.

. If cleaning cannot recover, disable the cleaning process by modifying the `BareMetalHost` resource and setting the `automatedCleaningMode` field to `disabled`.

See "Editing a BareMetalHost resource" for additional details.
